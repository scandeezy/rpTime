<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Modal Date Selector</title>
    <script type="text/javascript">
        function Init () {
             console.log("inside init");
        }

        function OnOK () {
            var datePicked = document.getElementById ("datePickerInput");

            if (window.showModalDialog) {
                var sharedObject = {};
                sharedObject.datePicked = datePicked.value;

                window.returnValue = sharedObject;
            }
            else {
                    // if not modal, we cannot use the returnValue property, we need to update the opener window
                window.opener.UpdateFields (datePicked.value);
            }
            window.close ();
        }

        function OnCancel () {
            window.close ();
        }
    </script>
</head>
<body onload="Init ();">
    Choose a week.<br/>
    <input type="date" id="datePickerInput"/><br/>
    <br/><br/>
    <button onclick="OnOK ()">OK</button> <button onclick="OnCancel ()">Cancel</button>
</body>
</html>
